<style>
    .zoom {
        padding: 5px;
        /*background-color: green;*/
        transition: transform .3s; /* Animation */
        width: 100px;
        height: 100px;
        margin: 0 auto;
        }
        
        .zoom:hover {
        transform: scale(1.1); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
        }
    
    .tab {
      overflow: hidden;
      border: 1px solid #ccc;
      background-color:#696969;
      size: 0px;
      color: #ccc;
    }
    
    
    /* Style the buttons that are used to open the tab content */
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 10px 25px;
      transition: 0.3s;
    }
    
    /* Change background color of buttons on hover */
    .tab button:hover {
      background-color: #ddd;
    }
    
    /* Create an active/current tablink class */
    .tab button.active {
      background-color: #ccc;
    }
    
    /* Style the tab content */
    .tabcontent {
      display: none;
      padding: 6px 12px;
      border: 1px solid black;
      border-top: none;
    }
    
    .h5{
        color:white;
    }
    
    
    .tabcontent {
      animation: fadeEffect 1s; /* Fading effect takes 1 second */
    }
    
    /* Go from zero to full opacity */
    @keyframes fadeEffect {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    .btn-group .btn:hover {
        cursor: pointer;
    }
    
    </style>
    
    <div class="br-pagetitle">
        <i class="fas fa-signal"></i>
        <div>
        <h4>Hebergement</h4>
        <p style="color:blue;" class="mg-b-0">----</p>
        </div>
    </div><!-- d-flex -->
    
    
    
        <div class="row row-sm mg-t-25 mg-l-5 mg-t-5">
            <div class="col-3">
                <div class="card bd-primary">
                    <div class="card-header bg-primary tx-white">
                        Chambre
                    </div>
                    <!-- card-header -->
                    <div class="card-body tx-center">
                        
                        <div class="mg-t-20">
                            <img src="{{asset('photo/Chambre/'~ allocation.chambre.photo1)}}" 
                            height="100px" width="250" alt="dropdown image" 
                            class="img-responsive">
                            <br>
                        </div>
                    </div>
                    <!-- card-header -->
                    <div class="card-body tx-center">
                        <div class="mg-t-20">
                            <div>
                                <label for="objet" class="label">Antenne</label>
                                <input id="objet" class="form-control modif" type="text" name="objet" value="{{allocation.antene.nom}}" disabled>
                                <label for="email" class="label" align="left">Numero de Chambre </label>
                                <input id="objet" class="form-control modif" type="email" name="objet" value="{{allocation.chambre.numero}}" disabled>
                                <label for="email" class="label" align="left">Type d'Hebergement</label>
                                <input id="objet" class="form-control modif" type="email" name="objet" value="{{allocation.type}}" disabled>
                                <label for="email" class="label" align="left">Montant</label>
                                <input id="objet" class="form-control modif" type="email" name="objet" value="{{allocation.montant}}" disabled>
                                <label for="email" class="label" align="left">Heberger par</label>
                                <input id="objet" class="form-control modif" type="email" name="objet" value="{{allocation.operateur.nom}}" disabled>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- col-3 -->
            <div class="col-9">
                    <div class="card bd-primary">
                        <div class="card-header bg-primary tx-white">
                        <a href="{{path('index-client')}}" class=" text-white float-left" data-toggle="ajax" data-target="monContent"><i class="fa fa-arrow-left"></i> </a>
                            Informations du client {{ allocation.occupant.nom }}
                        </div>
                        <!-- card-header -->
                        <div class="card-body">
                            <div class="row row-xs">
                                <div class="col-lg-6">
                                    <label for="">Nom:
                                    </label>
                                    <input type="text" id="nom" class="form-control modif" name="nom" value="{{allocation.occupant.nom}}" disabled>
                                </div>
                                <div class="col-lg-6">
                                    <label for="">Prenom:
                                    </label>
                                    <input type="text" id="prenom" name="prenom" class="form-control modif" value="{{allocation.occupant.prenom}}" disabled>
                                </div>
                            </div>
    
                            <div class="row row-xs  mg-t-20">
                                <div class="col-lg-6">
                                    <label for="">Téléphone:
                                    </label>
                                    <input type="text" id="telephone1" class="form-control modif" name="telephone1" value="{{ allocation.occupant.phone }}" disabled>
                                </div>
                                <div class="col-lg-6">
                                    <label for="">sexe:</label>
                                        <input type="text" id="telephone1" class="form-control modif" name="telephone1" value="{{ allocation.occupant.sexe }}" disabled>
                                    </label>
                                </div>
                            </div>
    
                            <div class="row row-xs  mg-t-20">
                                <div class="col-lg-4">
                                    <label for="">CNI:</label>
                                    <input type="text" id="telephone2" name="telephone2" class="form-control modif" value="{{ allocation.occupant.cni }}" disabled>
                                </div>
                                <div class="col-lg-4">
                                    <label for="">Date de début:</label>
                                    <input type="text" id="datenaiss" class="form-control modif datepicker" name="datenaiss" value="{{allocation.datedebut | date('d-m-Y H:i:s')}}"  style="height: 40px;" disabled>
                                </div>
                                <div class="col-lg-4">
                                    <label for="">Date de fin:
                                    </label>
                                    <input type="text" id="lieunaiss" name="lieunaiss" class="form-control modif" value="{{ allocation.datefin | date('d-m-Y H:i:s')}}" disabled>
                                </div>
                            </div>
                            <div class="row row-xs  mg-t-20">
                                <div class="col-lg-4">
                                    <label for="">Profession: 
                                    </label>
                                    <input type="text" id="lieunaiss" name="lieunaiss" class="form-control modif" value="{{ allocation.occupant.profession }}" disabled>
                                </div>
                                <div class="col-lg-4">
                                    <label for="">nationalite:
                                    </label>
                                    <input type="text" id="lieunaiss" name="lieunaiss" class="form-control modif" value="{{ allocation.occupant.nationalite }}" disabled>
    
                                </div>
                                <div class="col-lg-4">
                                    <label for="">telephone:
                                    </label>
                                    <input type="text" id="lieunaiss" name="lieunaiss" class="form-control modif" value="{{ allocation.occupant.phone }}" disabled>
    
                                </div>
                            </div>
                            <div class="row row-xs  mg-t-20">
                                <div class="col-lg-6">
                                    <label for="">adresse:
                                    </label>
                                    <input type="text" id="lieunaiss" name="lieunaiss" class="form-control modif" value="{{ allocation.occupant.adresse }}" disabled>
    
                                </div>
                                <div class="col-lg-6">
                                    <label for="">email:
                                    </label>
                                    <input type="text" id="lieunaiss" name="lieunaiss" class="form-control modif" value="{{ allocation.occupant.email }}" disabled>
    
                                </div>
                            </div>
                        </div>
                    </div>
            
                    
            </div> 
            <!-- col-9 -->
        </div>
    
            </div>
            <!-- end br-mainpanel -->
        
    
    
    
    
    <script>
        function checkdisponibilteofroom() {
            $('#vefificationstatic').hide();
            $('#vefificationenable').show();
            $("#contentaftervalide").hide();
            var typechambre=$('.typedechambre').children("option:selected").val();
            //alert($('.typedechambre').children("option:selected").val());
            //alert($('.tarifdeschambres').children("option:selected").val());
            $('.chambres').find('option').remove();
            
            //alert($('#timeat').val());
            $.ajax({
                url: "/getallchambrelibre",
                type: 'POST',
                dataType: 'json',
                data:{"datearrivee": $('#timeat').val(),"typechambre": typechambre,"duree":$('.tarifdeschambres').children("option:selected").val(),
                "quantite":$('#quantiter').val()}
            }).done(function(data){ 
                        $('#vefificationstatic').show();
                        $('#vefificationenable').hide();
                        if(data.length==0){
                            
                                Swal.fire({
                                    position: 'top-end',
                                    icon: 'error',
                                    title: "pas de chambre disponible",
                                    showConfirmButton: false,
                                    timer: 2000
                                })
                           
                        }else{
                            $("#contentaftervalide").show();
                            i=0;
                            while(i<data.length){
                                $('.chambres').append('<option value="'+data[i].id+'" >'+data[i].numero+'</option>');
                                i++;
                            } 
                        }
                         
                    
            }).fail(function(error){
                $('#vefificationstatic').show();
                $('#vefificationenable').hide();
            });
        }
    </script>
    <script>
    $(".js-form-sendallocation").on('submit', function(e) {
        e.preventDefault();
        //////
        var idForm = $(this).attr('id');
        var element = $("#" + idForm + " #btn-save-nouveau");
        var element2 = $("#" + idForm + " #btn-save-nouveau");
        element.html('Chargement... <span class="fa fa-spinner fa-pulse"></span>');
        element.attr("disabled", "true");
        //////
        var dataform = $(this).serialize();
        $.ajax({
                url: "/allocationadd",
                type: 'POST',
                dataType: 'json',
                data:dataform
            }).done(function(data){ 
                $("#contentaftervalide").hide();
                element2.html('VALIDER');
                element2.attr("disabled", "false");
                if(data.success){
                        Swal.fire({
                        title: 'enregistrement terminer',
                        text: "Voulez vous imprimer la facture ?",
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Imprimer'
                        }).then((result) => {
                        if (result.isConfirmed) {
                          window.open("/printrecuallocation?id="+data.id, '_blank');  
                        }
                        })
                }else{
                    Swal.fire({
                        position: 'top-end',
                        icon: 'error',
                        title: "problème d'enregistrer !",
                        showConfirmButton: false,
                        timer: 2000
                    })
                }       
                    
            }).fail(function(error){
                console.log("no ok");
            });
    }) 
    </script>
    
    
    
    
    
    
    
    