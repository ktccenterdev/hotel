
<div class="br-pagetitle">
	<i class="icon ion-share"></i>
	<div>
		<h4>SORTIES FINANCIERES</h4>
		<p style="color:blue;" class="mg-b-0">----</p>
	</div>
</div>

<div class="br-section-wrapper">
	<div class="container">
		<div class="row">
			<div class="col-sm">
				<h6 class="br-section-label">
					<a class="{{app.user.hasAccess('sortie-financiere-index')}}" href="{{path('sortie-financiere-index', {'type':type})}}" data-toggle="ajax" data-target="monContent" title="précédent">
						<i class="fa fa-arrow-left"></i>
					</a>  Autres sorties financières
				</h6>
			</div>
		</div>
		<div class="br-pagebody pd-x-20 pd-sm-x-30">
			<div class="card bd-0 shadow-base">
			 <div class="formelement" id="nouveau" x-show="ajouter" style="padding:10px;">
				<div class="row d-flex justify-content-center">
					<div class="col-lg-12 col-xlg-12 col-md-12">
						<div class="row">
							<div class="col">
								<form id="form-send" class="js-form-send" action="{{ path('save-sortie-autre') }}" method="POST"
								data-toggle="ajax" data-target="monContent">
								<input type="hidden" name="id" id="id">
									<div class="form-layout form-layout-4">
										<h6 class="br-section-label titre-nouveau">Ajouter une nouvelle sortie financière</h6>
										<div class="row">
											<label class="col-sm-4 form-control-label">Motif: <span class="tx-danger">*</span></label>
											<div class="col-sm-8 mg-t-10 mg-sm-t-0">
												<input type="text" class="form-control" id="motif" name="motif" placeholder="Motif de la sortie financière" required>
											</div>
										</div><!-- row --><br>
										<div class="row">
											<label class="col-sm-4 form-control-label">Montant: <span class="tx-danger">*</span></label>
											<div class="col-sm-8 mg-t-10 mg-sm-t-0">
												<input type="number" class="form-control" id="montant" min="0" name="montant" placeholder="Montant de la dépense" required>
											</div>
										</div><!-- row --><br>
										<div class="row">
											<label class="col-sm-4 form-control-label">Compte: <span class="tx-danger">*</span></label>
											<div class="col-sm-8 mg-t-10 mg-sm-t-0">
												<select class="form-control" id="compte" name="compte" required>
													<option selected disabled>Sélectionner un compte </option>
													{% for compte in comptes %}
														<option value="{{compte.id}}">{{compte.intitule}} : {{compte.code}}</option>
													{% endfor %}
												</select> 
											</div>
										</div><br>
										<div class="row">
											<label class="col-sm-4 form-control-label">Beneficiaire: <span class="tx-danger">*</span></label>
											<div class="col-sm-8 mg-t-10 mg-sm-t-0">
												<select class="form-control" id="beneficiaireID" name="beneficiaireID" required>
													<option selected disabled>Sélectionner un beneficiaire </option>
													{% for beneficiaire in beneficiaires %}
														<option value="{{beneficiaire.id}}">{{beneficiaire.nom}}</option>
													{% endfor %}
												</select> 
											</div>
										</div><br>
										<div class="row">
											<label class="col-sm-4 form-control-label">Commentaire: </label>
											<div class="col-sm-8 mg-t-10 mg-sm-t-0">																
												<textarea class="form-control" type="text" name="commentaire" rows="6" cols="100" placeholder="Commentaire"></textarea>
											</div>
										</div><!-- row --><br>                                                       
										<div class="row row-xs mg-t-30">
											<div class="col-sm-8 mg-l-auto">
												<div class="form-layout-footer">
													<button type="reset" class="btn btn-default" onclick="">Annuler</button>
													<button type="submit" id="btn-save-nouveau" class="btn btn-primary mg-r-5">Enrégistrer</button>
												</div>
												<!-- form-layout-footer -->
											</div>
										</div>
									</div>
								<form>
							</div><!-- col-6 -->
						</div><!-- row -->
					</div>
				</div>
			</div>
			</div>
		  </div>
	</div>
</div><!-- br-section-wrapper -->


<script>
		$('input[type=radio][name=typeFilter]').change(function() {
			if (this.value == 'antenne') {
				$("#antenne").removeAttr("disabled", false);
				$("#operateur").attr("disabled", true);
			}
			else if (this.value == 'operateur') {
				$("#antenne").attr("disabled", true);
				$("#operateur").removeAttr("disabled", false);
			}else{
				$("#antenne").attr("disabled", true);
				$("#operateur").attr("disabled", true);
			}
		});

		$("#form-filter").on('submit', function(e){
			e.preventDefault();
			var typeFilter = $('input[name=typeFilter]:checked', '#form-filter').val();
			var operateur = $("#operateur").val();
			var antenne = $("#antenne").val();
			var debut = $("#debut").val();
			var fin = $("#fin").val();
			var url = "/sortiefinanciere?typeFilter="+typeFilter+
			"&operateur="+operateur+"&antenne="+antenne+"&debut="+debut+"&fin="+fin;
			//alert(url);
			getPage(url);
		})
	</script>
	
	
	